{
  "kind": "build_request",
  "title": "Update Spades Quick Play to play to 500 points",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Update the Spades Quick Play game rules so that a full Spades game ends when a player reaches (or exceeds) 500 total points, rather than ending after a single 13-trick hand.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "Spades games supposed to go to 500 score"
        ]
      },
      "acceptanceCriteria": [
        "After completing a hand (13 tricks), the game does not automatically end unless at least one player has reached 500+ total points.",
        "The game-over state is triggered by reaching the 500-point target (not by simply completing 13 tricks).",
        "If multiple players reach 500+ at the end of the same hand, the winner is determined consistently (e.g., highest total points); ties are handled deterministically (e.g., shared winner label or a stable tie-break rule)."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Implement Spades hand scoring and persistent per-player total score across hands within the same Quick Play session, including showing the current target of 500 points in the UI.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "Spades games supposed to go to 500 score"
        ]
      },
      "acceptanceCriteria": [
        "At the end of each hand, each player receives a hand score derived from their bid and tricks won, and that hand score is added to their persistent total score for the session.",
        "The UI displays each playerâ€™s total score (accumulated across hands) and clearly indicates the win target as 500 points.",
        "A new hand is started automatically (fresh deal, reset tricks/bids/spadesBroken/current trick) when a hand ends and no player has yet reached 500 points.",
        "User-facing labels related to the scoring target are in English (e.g., \"Target: 500\")."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under frontend/src/components/ui (read-only components must be composed, not modified).",
    "Do not edit frontend immutable hook entrypoints listed in SYSTEM_CONTEXT (compose around them instead)."
  ],
  "nonGoals": [
    "Implementing multiplayer Spades lobbies/tournaments or networked matchmaking.",
    "Persisting Spades Quick Play scores to the backend; scoring changes apply to the local Quick Play session only.",
    "Changing Omaha rules or scoring."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}